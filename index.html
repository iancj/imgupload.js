<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1, user-scalable=no" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="telephone=no" name="format-detection">
	<title>imgupload.js</title>
	<link rel="stylesheet" href="imgupload.css">
	<style>
	body{padding: 50px;}
	.pdt20{padding-top: 20px;}
	</style>
</head>
<body>

	<section>
		<h1>方法一：自动实例化</h1>
		<input type="file" data-name="upload2" data-fileTypeExts="*.png|*.jpg|*.jpeg" data-imgSizeExts="100*" data-uploadLimit="999" class="j-imgupload"> 
		<p>请上传320*640的图片</p>
		<input type="hidden" id="j-imguploadUrl" value="/imgupload/upload.php"><!-- 上传接口埋点 -->
	</section>

	<section class="pdt20">
		<h2>方法二：手动实例化</h2>
		<input type="file" data-name="upload1" multiple id="j-upload1">
		<p>请上传宽度超过100px的图片</p>
		<button id="btn-get1">获取方法二已上传图片路径</button>
		<p></p>
	</section>

	<!-- upload1的预加载 -->
	<div class="j-uploadimg-preload" data-origin="upload1">
		<img src="/imgupload/uploads/hoek.png" data-fullpath="/fullpath/imgupload/uploads/hoek.png">
		<img src="/imgupload/uploads/hoek.png" data-fullpath="/fullpath/imgupload/uploads/hoek.png">
	</div>

	<script src="imgupload.js"></script>
	<script>
	var upload1=new ImgUpload({
		el:document.querySelector("#j-upload1"),
		uploadUrl:"/imgupload/upload.php",
		fileTypeExts:"*.png|*.jpg|*.jpeg|*.gif",
		imgSizeExts:"100*"
	});

	document.querySelector("#btn-get1").addEventListener("click",function(){
		this.nextElementSibling.innerHTML=upload1.getURLs().join(",");
	},false);
	</script>
</body>
</html>